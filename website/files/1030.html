<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title> Problem 1030 - Discovering Gold</title>
	<script type="text/javascript" src="../scripts/shCore.js"></script>
	<script type="text/javascript" src="../scripts/shBrushCpp.js"></script>
	<link type="text/css" rel="stylesheet" href="../styles/shCoreDefault.css"/>
	<script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body style="background: white; font-family: Helvetica">
<p align="right"> <a href="../index.html"> Home </a></p>
<h1>Question Code : 1030</h1>
<h1>Problem Name : <a href=http://lightoj.com/volume_showproblem.php?problem=1030 target="_blank" > Discovering Gold</a></h1><br/>
<h3>Problem Tags : 
<a href= tags/Dynamic%20Programming.html target="_blank">Dynamic Programming</a>, <a href= tags/Probability-Expected%20Value.html target="_blank">Probability/Expected Value</a></h3><br/><h3>Problem Statement : </h3>

<p class=MsoNormal>You are in a cave, a long cave! The cave can be represented 
by a <b>1 x N</b> grid. Each cell of the cave can contain any amount of gold.</p> 

<p class=MsoNormal>Initially you are in position <b>1</b>. Now each turn you 
throw a perfect <b>6</b> sided dice. If you get <b>X</b> in the dice after 
throwing, you add <b>X</b> to your position and collect all the gold from the 
new position. If your new position is outside the cave, then you keep throwing 
again until you get a suitable result. When you reach the <b>N<sup>th</sup></b> 
position you stop your journey. Now you are given the information about the 
cave, you have to find out the <b>expected</b> number of gold you can collect 
using the given procedure.</p> 

<br/><h3>Code : </h3>
<pre class="brush: cpp;">
#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
using namespace std;

int main()
{

	double pro[110];
	int val[110];
	int t;
	int n;
	int j;
	int count;
	double exp;

	scanf("%d", &t);

	for (int cs = 1; cs &lt;= t; cs++) {
		scanf("%d", &n);
		memset(pro, 0, sizeof pro);
		pro[1] = 1;


		for (int i = 1; i &lt;= n; i++) {
			scanf("%d", val + i);
		}

		exp = val[1];

		for (int i = 2; i &lt;= n; i++) {
			
			for (int k = 1; k &lt;= 6 and i - k &gt;= 1; k++) {
				j = i - k;
				count = min(6, n - j);
				pro[i] = pro[i] + (pro[j] * ( double(1) / double(count)));
			}

			exp = exp + pro[i] * val[i];

		}

		printf("Case %d: %lf\n", cs, exp);

	}

}
</body>
</pre>
</html>
